/*
 * Allwinner Technology CO., Ltd. sun50iw1p1 platform
 *
 * fpga support
 * modify base on juno.dts
 */

/memreserve/ 0x40000000 0x00010000; /* sun50iw1p1.dtb range       : [0x40000000~0x40010000], size = 64K */
/memreserve/ 0x40010000 0x00010000; /* sys_config.fex range       : [0x40010000~0x40020000], size = 64K */
/memreserve/ 0x40020000 0x00004000; /* arisc dram code space range: [0x40020000~0x40024000], size = 16K */
/memreserve/ 0x40024000 0x00001000; /* arisc para cfg range       : [0x40024000~0x40025000], size = 4K  */
/memreserve/ 0x40025000 0x00000800; /* super standby range        : [0x40025000~0x40025800], size = 2K  */
/memreserve/ 0x78800000 0x07800000; /* ion carvout heap revserve  : [0x78800000~0x80000000], size = 120M  */

#include <dt-bindings/interrupt-controller/arm-gic.h>
#include <dt-bindings/gpio/gpio.h>
#include "sun50iw1p1-clk.dtsi"
#include "sun50iw1p1-pinctrl.dtsi"
/ {
	model = "sun50iw1p1";
	compatible = "arm,sun50iw1p1", "arm,sun50iw1p1";
	interrupt-parent = <&gic>;
	#address-cells = <2>;
	#size-cells = <2>;

	aliases {
		serial0 = &uart0;
		serial1 = &uart1;
		serial2 = &uart2;
		serial3 = &uart3;
		serial4 = &uart4;
		twi0 = &twi0;
		twi1 = &twi1;
		twi2 = &twi2;
		twi3 = &twi3;
		spi0 = &soc_spi0;
		global_timer0  = &soc_timer0;
		cci0 = &csi_cci0;
		csi0 = &csi_0;
		vfe0 = &vip0;
		mmc0 = &mmc0;
		mmc2 = &mmc2;
	};

	chosen {
		bootargs = "earlyprintk=sunxi-uart,0x01c28000 loglevel=8 initcall_debug=1 console=ttyS0 init=/init";
    };

	cpus {
		#address-cells = <2>;
		#size-cells = <0>;

		cpu@0 {
			device_type = "cpu";
			compatible = "arm,cortex-a53","arm,armv8";
			reg = <0x0 0x0>;
			enable-method = "psci";
			cpufreq_tbl = < 480000
					600000
					720000
					816000
					1008000
					1200000
					1344000>;
			clock-latency = <2000000>;
		};
	};

	n_brom {
		compatible = "allwinner,n-brom";
		reg = <0x0 0x0 0x0 0xc000>;
	};

	s_brom {
		compatible = "allwinner,s-brom";
		reg = <0x0 0x0 0x0 0x10000>;
	};

	sram_a1 {
		compatible = "allwinner,sram_a1";
		reg = <0x0 0x00010000 0x0 0x8000>;
	};

	sram_a2 {
		compatible = "allwinner,sram_a2";
		reg = <0x0 0x00040000 0x0 0x14000>;
	};

	prcm {
		compatible = "allwinner,prcm";
		reg = <0x0 0x01f01400 0x0 0x400>;
	};

	cpuscfg {
		compatible = "allwinner,cpuscfg";
		reg = <0x0 0x01f01c00 0x0 0x400>;
	};

	ion {
		compatible = "allwinner,sunxi-ion";
		/*types is list here:
			ION_HEAP_TYPE_SYSTEM = 0,
			ION_HEAP_TYPE_SYSTEM_CONTIG = 1,
			ION_HEAP_TYPE_CARVEOUT = 2,
			ION_HEAP_TYPE_CHUNK = 3,
			ION_HEAP_TYPE_DMA = 4
		**/
		system_contig{
			type = <1>;
			name = "system_contig";
		};
		carvout{
			type = <2>;
			name = "carvout";
			base = <0x78800000>;
			size = <0x07800000>;
		};
		cma{
			type = <4>;
			name = "cma";
		};
	};

	dram {
		compatible = "allwinner,dram";
		clocks = <&clk_pll_ddr0>, <&clk_pll_ddr1>;
		clock-names = "pll_ddr0", "pll_ddr1";
		dram_clk        = <672>;
		dram_type       = <3>;
		dram_zq         = <0x003F3FDD>;
		dram_odt_en     = <1>;
		dram_para1      = <0x10f41000>;
		dram_para2      = <0x00001200>;
		dram_mr0        = <0x1A50>;
		dram_mr1        = <0x40>;
		dram_mr2        = <0x10>;
		dram_mr3        = <0>;
		dram_tpr0       = <0x04E214EA>;
		dram_tpr1       = <0x004214AD>;
		dram_tpr2       = <0x10A75030>;
		dram_tpr3       = <0>;
		dram_tpr4       = <0>;
		dram_tpr5       = <0>;
		dram_tpr6       = <0>;
		dram_tpr7       = <0>;
		dram_tpr8       = <0>;
		dram_tpr9       = <0>;
		dram_tpr10      = <0>;
		dram_tpr11      = <0>;
		dram_tpr12      = <168>;
		dram_tpr13      = <0x823>;
	};

	memory@40000000 {
		device_type = "memory";
		reg = <0x00000000 0x40000000 0x00000000 0x40000000>;
	};

	gic: interrupt-controller@1c81000 {
		compatible = "arm,cortex-a15-gic", "arm,cortex-a9-gic";
		#interrupt-cells = <3>;
		#address-cells = <0>;
		interrupt-controller;
		reg = <0x0 0x01c81000 0 0x1000>, /* GIC Dist */
		      <0x0 0x01c82000 0 0x2000>, /* GIC CPU */
		      <0x0 0x01c84000 0 0x2000>, /* GIC VCPU Control */
		      <0x0 0x01c86000 0 0x2000>; /* GIC VCPU */
		interrupts = <GIC_PPI 9 0xf04>; /* GIC Maintenence IRQ */
	};

	timer {
		compatible = "arm,armv8-timer";
		interrupts = <GIC_PPI 13 0xff01>, /* Secure Phys IRQ */
			     <GIC_PPI 14 0xff01>, /* Non-secure Phys IRQ */
			     <GIC_PPI 11 0xff01>, /* Virt IRQ */
			     <GIC_PPI 10 0xff01>; /* Hyp IRQ */
		clock-frequency = <24000000>;
	};

	pmu {
		compatible = "arm,armv8-pmuv3";
		interrupts = <GIC_SPI 120 4>,
			     <GIC_SPI 121 4>,
			     <GIC_SPI 122 4>,
			     <GIC_SPI 123 4>;
	};

	dvfs_table {
		compatible = "allwinner,dvfs_table";
		vf_table_count = <3>;

		vf_table0 {
			compatible = "allwinner,vf_table0";
			max_freq = <1200000000>;
			min_freq = <60000000>;
			LV_count = <8>;
			LV1_freq = <1200000000>;
			LV1_volt = <1300>;
			LV2_freq = <1104000000>;
			LV2_volt = <1200>;
			LV3_freq = <1008000000>;
			LV3_volt = <1100>;
			LV4_freq = <816000000>;
			LV4_volt = <1000>;
			LV5_freq = <600000000>;
			LV5_volt = <900>;
			LV6_freq = <0>;
			LV6_volt = <900>;
			LV7_freq = <0>;
			LV7_volt = <900>;
			LV8_freq = <0>;
			LV8_volt = <900>;
		};

		vf_table1 {
			compatible = "allwinner,vf_table1";
			max_freq = <1200000000>;
			min_freq = <60000000>;
			LV_count = <8>;
			LV1_freq = <1200000000>;
			LV1_volt = <1300>;
			LV2_freq = <1104000000>;
			LV2_volt = <1200>;
			LV3_freq = <1008000000>;
			LV3_volt = <1100>;
			LV4_freq = <816000000>;
			LV4_volt = <1000>;
			LV5_freq = <600000000>;
			LV5_volt = <900>;
			LV6_freq = <0>;
			LV6_volt = <900>;
			LV7_freq = <0>;
			LV7_volt = <900>;
			LV8_freq = <0>;
			LV8_volt = <900>;
		};

		vf_table2 {
			compatible = "allwinner,vf_table2";
			max_freq = <1200000000>;
			min_freq = <60000000>;
			LV_count = <8>;
			LV1_freq = <1200000000>;
			LV1_volt = <1300>;
			LV2_freq = <1104000000>;
			LV2_volt = <1200>;
			LV3_freq = <1008000000>;
			LV3_volt = <1100>;
			LV4_freq = <816000000>;
			LV4_volt = <1000>;
			LV5_freq = <600000000>;
			LV5_volt = <900>;
			LV6_freq = <0>;
			LV6_volt = <900>;
			LV7_freq = <0>;
			LV7_volt = <900>;
			LV8_freq = <0>;
			LV8_volt = <900>;
		};
	};

	soc@01c00000 {
		compatible = "simple-bus";
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		dma0:dma-controller@01c02000 {
			compatible = "allwinner,sun50i-dma";
			reg = <0x0 0x01c02000 0x0 0x1000>;
			interrupts = <0 50 4>;
			clocks = <&clk_dma>;
			#dma-cells = <1>;
		};

		mbus0:mbus-controller@01c62000 {
			compatible = "allwinner,sun50i-mbus";
			reg = <0x0 0x01c62000 0x0 0x110>;
			#mbus-cells = <1>;
		};

		arisc {
			compatible = "allwinner,sunxi-arisc";
			#address-cells = <2>;
			#size-cells = <2>;
			clocks = <&clk_losc>, <&clk_iosc>, <&clk_hosc>, <&clk_pll_periph0>;
			clock-names = "losc", "iosc", "hosc", "pll_periph0";
			powchk_used = <0x0>;
			power_reg = <0x02309621>;
			system_power = <50>;
		};

		arisc_space {
			compatible = "allwinner,arisc_space";
			/* num    dst        offset     size                              */
			space1 = <0x00040000 0x00000000 0x00014000>; /* srama2 code space */
			space2 = <0x40020000 0x00018000 0x00004000>; /* dram code space   */
			space3 = <0x40024000 0x00000000 0x00001000>; /* para space        */
		};

		msgbox: msgbox@1c17000 {
			compatible = "allwinner,msgbox";
			clocks = <&clk_msgbox>;
			clock-names = "clk_msgbox";
			reg = <0x0 0x01c17000 0x0 0x1000>;
			interrupts = <GIC_SPI 49 IRQ_TYPE_EDGE_RISING>;
			status = "okay";
		};

		hwspinlock: hwspinlock@1c18000 {
			compatible = "allwinner,hwspinlock";
			clocks = <&clk_spinlock>;
			clock-names = "clk_spinlock";
			reg = <0x0 0x01c18000 0x0 0x1000>;
			status = "okay";
		};

		s_cir0: s_cir@1f02000 {
			compatible = "allwinner,s_cir";
			reg = <0x0 0x01f02000 0x0 0x400>;
			interrupts = <GIC_SPI 37 IRQ_TYPE_LEVEL_HIGH>;
			pinctrl-names = "default";
			pinctrl-0 = <&s_cir0_pins_a>;
			ir_power_key_code = <0>;
			ir_addr_code = <0>;
			status = "okay";
		};

		s_uart0: s_uart@1f02800 {
			compatible = "allwinner,s_uart";
			reg = <0x0 0x01f02800 0x0 0x400>;
			interrupts = <GIC_SPI 38 IRQ_TYPE_LEVEL_HIGH>;
			pinctrl-names = "default";
			pinctrl-0 = <&s_uart0_pins_a>;
			status = "okay";
		};

		s_rsb0: s_rsb@1f03400 {
			compatible = "allwinner,s_rsb";
			reg = <0x0 0x01f03400 0x0 0x400>;
			interrupts = <GIC_SPI 39 IRQ_TYPE_LEVEL_HIGH>;
			pinctrl-names = "default";
			pinctrl-0 = <&s_rsb0_pins_a>;
			status = "okay";
		};

		s_jtag0 {
			compatible = "allwinner,s_jtag";
			pinctrl-names = "default";
			pinctrl-0 = <&s_jtag0_pins_a>;
			status = "disable";
		};

		soc_timer0: timer@1c20c00 {
			compatible = "allwinner,sunxi-timer";
			reg = <0x0 0x01c20c00 0x0 0x90>;
			interrupts = <GIC_SPI 18 IRQ_TYPE_EDGE_RISING>;
			clock-frequency = <24000000>;
			timer-prescale = <16>;
		};

		ve@01c0e000 {
			compatible = "allwinner,sunxi-cedar-ve";
			reg = <0x0 0x01c0e000 0x0 0x1000>,
					<0x0 0x01c00000 0x0 0x10>,
					<0x0 0x01c20000 0x0 0x800>;
			interrupts = <GIC_SPI 58 4>;
			clocks = <&clk_pll_ve>,
							<&clk_ve>;

		};

		uart0: uart@01c28000 {
			compatible = "allwinner,sun50i-uart";
			device_type = "uart0";
			reg = <0x0 0x01c28000 0x0 0x400>;
			interrupts = <GIC_SPI 0 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_uart0>;
			pinctrl-names = "default";
			pinctrl-0 = <&uart0_pins_a>;
			uart0_port = <0>;
			uart0_type = <2>;
			status = "okay";
		};

		uart1: uart@01c28400 {
			compatible = "allwinner,sun50i-uart";
			device_type = "uart1";
			reg = <0x0 0x01c28400 0x0 0x400>;
			interrupts = <GIC_SPI 1 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_uart1>;
			pinctrl-names = "default";
			pinctrl-0 = <&uart1_pins_a>;
			uart1_port = <1>;
			uart1_type = <4>;
			status = "disabled";
		};

		uart2: uart@01c28800 {
			compatible = "allwinner,sun50i-uart";
			device_type = "uart2";
			reg = <0x0 0x01c28800 0x0 0x400>;
			interrupts = <GIC_SPI 2 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_uart2>;
			pinctrl-names = "default";
			pinctrl-0 = <&uart2_pins_a>;
			uart2_port = <2>;
			uart2_type = <4>;
			status = "disabled";
		};

		uart3: uart@01c28c00 {
			compatible = "allwinner,sun50i-uart";
			device_type = "uart3";
			reg = <0x0 0x01c28c00 0x0 0x400>;
			interrupts = <GIC_SPI 3 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_uart3>;
			pinctrl-names = "default";
			pinctrl-0 = <&uart3_pins_a>;
			uart3_port = <3>;
			uart3_type = <4>;
			status = "disabled";
		};

		uart4: uart@01c29000 {
			compatible = "allwinner,sun50i-uart";
			device_type = "uart4";
			reg = <0x0 0x01c29000 0x0 0x400>;
			interrupts = <GIC_SPI 4 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_uart4>;
			pinctrl-names = "default";
			pinctrl-0 = <&uart4_pins_a>;
			uart4_port = <4>;
			uart4_type = <4>;
			status = "disabled";
		};

		twi0: twi@0x01c2ac00{
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "allwinner,sun50i-twi";
			device_type = "twi0";
			reg = <0x0 0x01c2ac00 0x0 0x400>;
			interrupts = <GIC_SPI 6 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_twi0>;
			clock-frequency = <400000>;
			pinctrl-names = "default";
			pinctrl-0 = <&twi0_pins_a>;
			status = "okay";

			eeprom@50 {
				compatible = "atmel,24c16";
				reg = <0x50>;
			};
		};

		twi1: twi@0x01c2b000{
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "allwinner,sun50i-twi";
			device_type = "twi1";
			reg = <0x0 0x01c2b000 0x0 0x400>;
			interrupts = <GIC_SPI 7 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_twi1>;
			clock-frequency = <200000>;
			pinctrl-names = "default";
			pinctrl-0 = <&twi1_pins_a>;
			status = "disable";
		};

		twi2: twi@0x01c2b400{
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "allwinner,sun50i-twi";
			device_type = "twi2";
			reg = <0x0 0x01c2b400 0x0 0x400>;
			interrupts = <GIC_SPI 8 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_twi2>;
			clock-frequency = <200000>;
			pinctrl-names = "default";
			pinctrl-0 = <&twi2_pins_a>;
			status = "disable";
		};

		usbc0@0 {
			device_type         = "usbc0";
			compatible          = "allwinner,sun50i-otg-manager";
			usbc0_used          = <1>;
			usb_port_type       = <2>;
			usb_detect_type     = <1>;
			usb_id_gpio         = <&pio PH 9 0 1 1 1>;
			usb_det_vbus_gpio   = "axp_ctrl";
			usb_drv_vbus_gpio   = <&pio PB 7 1 1 1 1>;
			usb_host_init_state = <0>;
			usb_regulator_io    = "nocare";
			usb_regulator_vol   = <0>;
			usb_wakeup_suspend  = <0>;
			usb_luns            = <3>;
			usb_serial_unique   = <0>;
			usb_serial_number   = "20080411";
			status              = "okay";
		};

		udc:udc-controller@0x01c19000 {
			compatible          = "allwinner,sun50i-udc";
			reg                 = <0x0 0x01c19000 0x0 0x1000>, /*udc base*/
			                      <0x0 0x01c00000 0x0 0x100>; /*sram base*/
			interrupts          = <GIC_SPI 71 IRQ_TYPE_LEVEL_HIGH>;
			clocks              = <&clk_usbphy0>, <&clk_usbotg>;
			status = "okay";
		};

		ehci0:ehci0-controller@0x01c1a000 {
			compatible          = "allwinner,sun50i-ehci0";
			reg                 = <0x0 0x01c1a000 0x0 0x900>, /*ehci0 base*/
			                      <0x0 0x01c00000 0x0 0x100>, /*sram base*/
			                      <0x0 0x01c19000 0x0 0x1000>; /*otg base*/
			interrupts          = <GIC_SPI 72 IRQ_TYPE_LEVEL_HIGH>;
			clocks              = <&clk_usbphy0>, <&clk_usbehci0>;
			hci_ctrl_no         = <0>;
			status              = "okay";
		};

		ohci0:ohci0-controller@0x01c1a400 {
			compatible          = "allwinner,sun50i-ohci0";
			reg                 = <0x0 0x01c1a400 0x0 0x500>, /*ohci0 base*/
			                      <0x0 0x01c00000 0x0 0x100>, /*sram base*/
			                      <0x0 0x01c19000 0x0 0x1000>; /*otg base*/
			interrupts          = <GIC_SPI 73 IRQ_TYPE_LEVEL_HIGH>;
			clocks              = <&clk_usbphy0>, <&clk_usbohci0>;
			hci_ctrl_no         = <0>;
			status              = "okay";
		};

		usbc1@0 {
			device_type         = "usbc1";
			usb_used            = <1>;
			usb_drv_vbus_gpio   = <&pio PB 6 1 1 1 1>;
			usb_host_init_state = <1>;
			usb_regulator_io    = "nocare";
			usb_regulator_vol   = <0>;
			usb_wakeup_suspend  = <0>;
			status = "okay";
		};

		ehci1:ehci1-controller@0x01c1b000 {
			compatible          = "allwinner,sun50i-ehci1";
			reg                 = <0x0 0x01c1b000 0x0 0x900>;/*ehci1 base*/
			interrupts          = <GIC_SPI 74 IRQ_TYPE_LEVEL_HIGH>;
			clocks              = <&clk_usbphy1>, <&clk_usbehci1>;
			hci_ctrl_no         = <1>;
			status              = "okay";
		};

		ohci1:ohci1-controller@0x01c1b400 {
			compatible          = "allwinner,sun50i-ohci1";
			reg                 = <0x0 0x01c1b400 0x0 0x500>;/*ohci1 base*/
			interrupts          = <GIC_SPI 75 IRQ_TYPE_LEVEL_HIGH>;
			clocks              = <&clk_usbphy1>, <&clk_usbohci1>;
			hci_ctrl_no         = <1>;
			status              = "okay";
		};
		sun50codec:audiocodec_codec@0x01c22c00 {
			compatible = "allwinner,sunxi-internal-codec";
			reg = <0x0 0x01c22c00 0x0 0x478>,/*digital baseadress*/
			      <0x0 0x01f015c0 0x0 0x0>;/*analog baseadress*/
			clocks = <&clk_pll_audiox4>;

			pinctrl-names = "aif2-default","aif3-default";
			pinctrl-0 = <&aif2_default_pins>;
			pinctrl-1 = <&aif3_default_pins>;

			gpio-spk=<&pio 0 10 0>;

			headphonevol =  <0x3b>;
			spkervol =  <0x1b>;
			earpiecevol =  <0x1e>;
			maingain =  <0x4>;
			headsetmicgain =  <0x4>;
			adcagc_cfg =  <0x0>;
			adcdrc_cfg =  <0x0>;
			adchpf_cfg =  <0x0>;
			dacdrc_cfg =  <0x0>;
			dachpf_cfg =  <0x0>;

			aif2config = <0x0>;
			aif3config = <0x0>;
			status = "okay";
		};

		sun50i2s:audiocodec_platform@0x01c22c00 {
			compatible = "allwinner,sunxi-internal-i2s";
			reg = <0x0 0x01c22c00 0x0 0x478>;/*digital baseadress*/
			clocks = <&clk_pll_audio>,<&clk_adda>;
			status = "okay";
		};

		audiocodec_machine:audiocodecmach{
			compatible = "allwinner,sunxi-codec-machine";
			interrupts = <GIC_SPI 61 0x101>;
			sunxi,i2s-controller = <&sun50i2s>;
			sunxi,audio-codec = <&sun50codec>;
			status = "okay";
		};

		daudio0:daudio@0x01c22000 {
			compatible = "allwinner,sunxi-daudio";
			reg = <0x0 0x01c22000 0x0 0x58>;
			clocks = <&clk_pll_audio>,<&clk_i2s0>;
			pinctrl-names = "default";
			pinctrl-0 = <&daudio0_pins>;
			pcm_lrck_period =  <0x20>;
			pcm_lrckr_period =  <0x01>;
			slot_width_select =  <0x10>;
			pcm_lsb_first =  <0x0>;
			tx_data_mode =  <0x0>;
			rx_data_mode =  <0x0>;
			daudio_master =  <0x04>;
			audio_format =  <0x01>;
			signal_inversion =  <0x01>;
			frametype =  <0x0>;
			tdm_config =  <0x01>;
			status = "okay";
		};
		daudio0_machine:daudio0mach{
			compatible = "allwinner,sunxi-duaio0-machine";
			sunxi,daudio0-controller = <&daudio0>;
			status = "okay";
		};
		daudio1:daudio@0x01c22400 {
			compatible = "allwinner,sunxi-daudio";
			reg = <0x0 0x01c22400 0x0 0x58>;
			pinctrl-names = "default";
			pinctrl-0 = <&daudio1_pins>;
			clocks = <&clk_pll_audio>,<&clk_i2s1>;
			pcm_lrck_period =  <0x20>;
			pcm_lrckr_period =  <0x01>;
			slot_width_select =  <0x10>;
			pcm_lsb_first =  <0x0>;
			tx_data_mode =  <0x0>;
			rx_data_mode =  <0x0>;
			daudio_master =  <0x04>;
			audio_format =  <0x01>;
			signal_inversion =  <0x01>;
			frametype =  <0x0>;
			tdm_config =  <0x01>;
			status = "okay";
		};
		daudio1_machine:daudio1mach{
			compatible = "allwinner,sunxi-duaio1-machine";
			sunxi,daudio1-controller = <&daudio1>;
			status = "okay";
		};
		audiohdmi:hdmi_platform@0x01c22800{
			compatible = "allwinner,sunxi-tdmhdmi";
			reg = <0x0 0x01c22800 0x0 0x58>;
			clocks = <&clk_pll_audio>,<&clk_i2s2>;
			status = "okay";
		};
		hdmi_machine:hdmimach{
			compatible = "allwinner,sunxi-hdmi-machine";
			sunxi,hdmi-controller = <&audiohdmi>;
			status = "okay";
		};
		audiospdif:spdif_platform@0x01c21000{
			compatible = "allwinner,sunxi-spdif";
			reg = <0x0 0x01c21000 0x0 0x38>;
			clocks = <&clk_pll_audio>,<&clk_spdif>;
			pinctrl-names = "default";
			pinctrl-0 = <&spdif_pins>;
			status = "okay";
		};
		spdif_machine:spdifmach{
			compatible = "allwinner,sunxi-spdif-machine";
			sunxi,spdif-controller = <&audiospdif>;
			status = "okay";
		};

		soc_spi0: spi@01c68000 {
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "allwinner,sun50i-spi";
			reg = <0x0 0x01c68000 0x0 0x1000>;
			interrupts = <GIC_SPI 65 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_pll_periph0>, <&clk_spi0>;
			pinctrl-names = "default";
			pinctrl-0 = <&spi0_pins_a>, <&spi0_pins_b>;
			cs-number = <1>;
			cs-bitmap = <1>;
			status = "okay";

			nor-flash@0 {
				#address-cells = <1>;
				#size-cells = <1>;
				compatible = "atmel,at25df641";
				reg = <0>;	/* Chip select 0 */
				spi-max-frequency = <50000000>;
				mode = <0>;

				partition@0 {
					label = "NorFlash part0";
					reg = <0x00000000 0x0002000>;
				};
			};
		};

		mmc0: sdmmc@01c0f000 {
			compatible = "allwinner,sun50i-sdmmc0";
			device_type = "mmc0";
			reg = <0x0 0x01c0f000 0x0 0x1000>; /* only sdmmc0 */
			interrupts = <GIC_SPI 60 0x0104>;  /*  */
			clocks = <&clk_hosc>,<&clk_pll_periph0x2>,<&clk_sdmmc0>;
			clock-names = "osc24m","pll_periph0","mmc";
			pinctrl-names = "default","sleep";
			pinctrl-0 = <&mmc0_pins_a>;
			pinctrl-1 = <&mmc0_pins_b>;
			max-frequency = <50000000>;
			bus-width = <4>;
			/*broken-cd;*/
			/*cd-inverted*/
			/*cd-gpios = <&pio PF 6 0 1 2 0>;*/
			/* vmmc-supply = <&reg_3p3v>;*/
			/* vqmc-supply = <&reg_3p3v>;*/
			/* vdmc-supply = <&reg_3p3v>;*/
			/*vmmc = "vcc-card";*/
			/*vqmc = "";*/
			/*vdmc = "";*/	
			/*sd-uhs-sdr50;*/
			/*sd-uhs-ddr50;*/
			/*cap-sdio-irq;*/
			/*keep-power-in-suspend;*/
			/*ignore-pm-notify;*/
			/*sunxi-power-save-mode;*/
	      /*sunxi-dly-400k = <1 0 0 0>; */
      /*sunxi-dly-26M  = <1 0 0 0>;*/
      /*sunxi-dly-52M  = <1 0 0 0>;*/
      /*sunxi-dly-52M-ddr4  = <1 0 0 0>;*/
      /*sunxi-dly-52M-ddr8  = <1 0 0 0>;*/
      /*sunxi-dly-104M  = <1 0 0 0>;*/
      /*sunxi-dly-208M  = <1 0 0 0>;*/
      /*sunxi-dly-104M-ddr  = <1 0 0 0>;*/
      /*sunxi-dly-208M-ddr  = <1 0 0 0>;*/

			status = "okay";
			/*status = "disabled";*/
		};


		mmc1: sdmmc@1C10000 {
			compatible = "allwinner,sun50i-sdmmc1";
			device_type = "mmc1";
			reg = <0x0 0x1C10000 0x0 0x1000>;
			interrupts = <GIC_SPI 61 0x0104>;  /*  */
			clocks = <&clk_hosc>,<&clk_pll_periph1x2>,<&clk_sdmmc1>;
			clock-names = "osc24m","pll_periph0","mmc";
			pinctrl-names = "default","sleep";
			pinctrl-0 = <&mmc1_pins_a>;
			pinctrl-1 = <&mmc1_pins_b>;
			/*max-frequency = <50000000>;*/
			/*bus-width = <4>;*/
			/*broken-cd;*/
			/*cd-inverted*/
			/*cd-gpios = <&pio PF 6 0 1 2 0>;*/
			/* vmmc-supply = <&reg_3p3v>;*/
			/* vqmc-supply = <&reg_3p3v>;*/
			/* vdmc-supply = <&reg_3p3v>;*/
			/*vmmc = "vcc-card";*/
			/*vqmc = "";*/
			/*vdmc = "";*/
			/*sd-uhs-sdr50;*/
			/*sd-uhs-ddr50;*/
			/*cap-sdio-irq;*/
			/*keep-power-in-suspend;*/
			/*ignore-pm-notify;*/
			/*sunxi-power-save-mode;*/
	      /*sunxi-dly-400k = <1 0 0 0>; */
      /*sunxi-dly-26M  = <1 0 0 0>;*/
      /*sunxi-dly-52M  = <1 0 0 0>;*/
      /*sunxi-dly-52M-ddr4  = <1 0 0 0>;*/
      /*sunxi-dly-52M-ddr8  = <1 0 0 0>;*/
      /*sunxi-dly-104M  = <1 0 0 0>;*/
      /*sunxi-dly-208M  = <1 0 0 0>;*/
      /*sunxi-dly-104M-ddr  = <1 0 0 0>;*/
      /*sunxi-dly-208M-ddr  = <1 0 0 0>;*/

			/*status = "okay";*/
			status = "disabled";
		};


		mmc2: sdmmc@01C11000 {
			compatible = "allwinner,sun50i-sdmmc2";
			device_type = "mmc2";
			reg = <0x0 0x01C11000 0x0 0x1000>;
			interrupts = <GIC_SPI 62 0x0104>;  /*  */
			clocks = <&clk_hosc>,<&clk_pll_periph1x2>,<&clk_sdmmc2>;
	    clock-names = "osc24m","pll_periph0","mmc";
      pinctrl-names = "default","sleep";
			pinctrl-0 = <&mmc2_pins_a>;
			pinctrl-1 = <&mmc2_pins_b>;
  		bus-width = <8>;
      /*mmc-ddr-1_8v;*/
     mmc-hs200-1_8v;
      mmc-hs400-1_8v;
      /*non-removable;*/
      /*max-frequency = <200000000>;*/
       max-frequency = <100000000>;
 
       sdc_tm4_sm0_freq0 = <0>;
       sdc_tm4_sm0_freq1 = <0>;
       sdc_tm4_sm1_freq0 = <0x00000000>;
       sdc_tm4_sm1_freq1 = <0>;
       sdc_tm4_sm2_freq0 = <0x00000000>;
       sdc_tm4_sm2_freq1 = <0>;
       sdc_tm4_sm3_freq0 = <0x0a000000>;
       sdc_tm4_sm3_freq1 = <0>;
       sdc_tm4_sm4_freq0 = <0x0a050000>;
       sdc_tm4_sm4_freq1 = <0>;

			/*vmmc-supply = <&reg_3p3v>;*/
			/*vqmc-supply = <&reg_3p3v>;*/
			/*vdmc-supply = <&reg_3p3v>;*/
			/*vmmc = "vcc-card";*/
			/*vqmc = "";*/
			/*vdmc = "";*/
	    /*sunxi-power-save-mode;*/
			status = "disabled";
			/*status = "okay";*/

       };


		soc_disp: disp@01000000 {
			compatible = "allwinner,sun50i-disp";
			reg = <0x0 0x01000000 0x0 0x00200000>,/*de*/
				<0x0 0x01c0c000 0x0 0x7fc>;/*lcd*/
			interrupts = <GIC_SPI 86 0x0104>;
			clocks = <&clk_de>,<&clk_tcon0>,
				<&clk_lvds>,<&clk_mipidsi>,<&clk_tcon1>;
			disp_init_enable = <1>;
			disp_mode = <0>;
			screen0_output_type = <1>;
			screen0_output_mode = <4>;
			screen1_output_type = <3>;
			screen1_output_mode = <4>;
			fb0_format = <0>;
			fb0_width = <0>;
			fb0_height = <0>;
			fb1_format = <0>;
			fb1_width = <0>;
			fb1_height = <0>;

			pinctrl-names = "default";
			pinctrl-0 = <&lcd_pins_a>,<&lcd_pins_b>;
			status = "okay";
		};

		soc_lcd0: lcd0@01c0c000 {
			compatible = "allwinner,sunxi-lcd0";
			interrupts = <GIC_SPI 86 0x0104>;
//			pinctrl-names = "default";
//			pinctrl-0 = <&lcd0_pins_a>,<&lcd0_pins_bl_en>;
			lcd_driver_name = "default_lcd";
			lcd_used = <1>;
			lcd_if = <0>;
			lcd_x = <800>;
			lcd_y = <480>;
			lcd_width = <150>;
			lcd_height = <94>;
			lcd_dclk_freq = <33>;
			lcd_pwm_used = <1>;
			lcd_pwm_ch = <0>;
			lcd_pwm_freq = <5000>;
			lcd_pwm_pol = <1>;
			lcd_pwm_max_limit = <255>;
			lcd_hbp = <46>;
			lcd_ht = <1055>;
			lcd_hspw = <0>;
			lcd_vbp = <23>;
			lcd_vt = <525>;
			lcd_vspw = <0>;
			lcd_lvds_if = <0>;
			lcd_lvds_colordepth = <1>;
			lcd_lvds_mode = <0>;
			lcd_frm = <0>;
			lcd_hv_clk_phase = <0>;
			lcd_hv_sync_polarity = <0>;
			lcd_gamma_en = <0>;
			lcd_bright_curve_en = <0>;
			lcd_cmap_en = <0>;

			lcd_power = "vcc-lcd-0";
			lcd_io_regulator = "vcc-lvds-18";
			lcd_io_regulator1 = "vcc-pd";

			pinctrl-names = "default";
			pinctrl-0 = <&lcd_pins_a>,<&lcd_pins_b>;

			status = "okay";
		};

		soc_hdmi: hdmi@01ee0000 {
			compatible = "allwinner,sunxi-hdmi";
			reg = <0x0 0x01ee0000 0x0 0x20000>;
			clocks = <&clk_hdmi>,<&clk_hdmi_slow>;
			status = "okay";
		};

		soc_tr: tr@01000000 {
			compatible = "allwinner,sun50i-tr";
			reg = <0x0 0x01000000 0x0 0x000200bc>;
			interrupts = <GIC_SPI 96 0x0104>;
			clocks = <&clk_de>;
			status = "okay";
		};

		csi_cci0:cci@0x01cb3000 {
			compatible = "allwinner,sunxi-csi_cci";
			reg = <0x0 0x01cb3000 0x0 0x1000>;	/*0x01cb3000--0x01cb4000*/
			interrupts = <GIC_SPI 122 4>;/*SUNXI_IRQ_CSI0_CCI (SUNXI_GIC_START + 122)*/
			status = "okay";
		};
		csi_0:csi@0x01cb0000 {
			compatible = "allwinner,sunxi-csi";
			reg = <0x0 0x01cb0000 0x0 0x1000>;/*0x01cb0000--0x01cb1000*/
			status = "okay";
		};
		vip0:vip@0 {
			compatible = "allwinner,sunxi-vfe";
			interrupts = <GIC_SPI 84 4>;/*SUNXI_IRQ_CSI0 (SUNXI_GIC_START + 84 )*/
			clocks 				= <&clk_csi_s>, <&clk_pll_periph0>,
										<&clk_csi_m>, <&clk_pll_video1>,
										<&clk_csi_misc>, <&clk_hosc>;
			pinctrl-names 		= "default";
			pinctrl-0 			= <&csi0_pins>;			
			vip0_csi_mck 		= <&pio PE 1 2 0 1 0>; /*PE1 .mul_sel = 2, .pull = 0, .drv_level = 1, .data = 0*/	
			vip0_mname          = "ov5640";
			vip0_twi_addr       = <0x78>;
			vip0_isp_used       = <1>;
			vip0_fmt            = <0>;
			vip0_stby_mode      = <0>;
			vip0_vflip          = <0>;
			vip0_hflip          = <0>;
			vip0_iovdd          = "axp22_eldo3";
			vip0_iovdd_vol      = <2800000>;
			vip0_avdd           = "axp22_dldo4";
			vip0_avdd_vol       = <2800000>;
			vip0_dvdd           = "axp22_eldo2";
			vip0_dvdd_vol       = <1500000>;
			vip0_afvdd          = "";
			vip0_afvdd_vol      = <2800000>;
			vip0_reset 			= <&pio PE 16 1 0 1 0>; /*PE16 .mul_sel = 1, .pull = 0, .drv_level = 1, .data = 0*/
			vip0_pwdn 			= <&pio PE 17 1 0 1 0>; /*PE17 .mul_sel = 1, .pull = 0, .drv_level = 1, .data = 0*/
			vip0_power_en		= <>;
			vip0_flash_en		= <>;
			vip0_flash_mode		= <>;
			vip0_af_pwdn		= <>;			
			status = "okay";
		};
		
		vdevice@0{
			device_type = "vdevice";
			compatible = "allwinner,sun50i-vdevice";
			pinctrl-names = "default";
			pinctrl-0 = <&vdevice_pins_a>;
			test-gpios = <&r_pio PL 0 1 2 3 4>;
			status = "okay";
		};
		cryptoengine: ce@1c15000 {
			compatible = "allwinner,sunxi-ce";
			reg = <0x0 0x01c15000 0x0 0x80>, /* non-secure space */
				  <0x0 0x01c15800 0x0 0x80>; /* secure space */
			interrupts = <GIC_SPI 94 0xff01>, /* non-secure space */
						 <GIC_SPI 80 0xff01>; /* secure space */
			clock-frequency = <300000000>, /* 300MHz */
							  <200000000>; /* 200MHz for RSA */
			clocks = <&clk_ce>,
					 <&clk_pll_periph0>;
		};
		di:deinterlace@0x01e00000{
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "allwinner,sunxi-deinterlace";
			reg = <0x0 0x01e00000 0x0 0x77c>;
			interrupts = <GIC_SPI 93 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_deinterlace> ,<&clk_pll_periph0>;
			status = "okay";
		};
		smc:smartcard@0x01c2c400{
			#address-cells = <1>;
			#size-cells = <0>;
			compatible = "allwinner,sunxi-scr";
			reg = <0x0 0x01c2c400 0x0 0x77c>;
			interrupts = <GIC_SPI 83 IRQ_TYPE_LEVEL_HIGH>;
			clocks = <&clk_scr>, <&clk_apb2>;
			clock-frequency = <24000000>;
			pinctrl-names = "default";
			pinctrl-0 = <&scr_pins_a>;
			status = "okay";
		};
		pmu0:pmu0@0{
			compatible = "allwinner,pmu0";
			pmu_batdeten               = <1>;
			pmu_init_chgend_rate       = <20>;
			pmu_init_chg_enabled       = <1>;
			pmu_init_adc_freq          = <800>;
			pmu_init_adcts_freq        = <800>;
			pmu_init_chg_pretime       = <70>;
			pmu_init_chg_csttime       = <720>;
			pmu_batt_cap_correct       = <1>;
			pmu_chg_end_on_en          = <0>;

			pmu_pwroff_vol             = <3300>;
			pmu_pwron_vol              = <2600>;
			pmu_powkey_off_delay_time  = <0>;
			pmu_pwrok_time             = <64>;
			pmu_reset_shutdown_en      = <1>;
			pmu_restvol_adjust_time    = <60>;
			pmu_ocv_cou_adjust_time    = <60>;
			pmu_vbusen_func            = <1>;
			pmu_reset                  = <0>;
			pmu_IRQ_wakeup             = <0>;
			pmu_hot_shutdowm           = <1>;
			pmu_inshort                = <0>;
			pmu_bat_shutdown_ltf       = <3200>; /* add by superm for debug */
			pmu_bat_shutdown_htf       = <237>;  /* add by superm for debug */
			status = "okay";
		};
		pmu0_regu:regu@0{
			compatible = "allwinner,pmu0_regu";
			regulator_count = <23>;
			regulator1      = "axp81x_dcdc1 none vcc-nand vcc-emmc vcc-sdc vcc-usb-30 vcc-wifi-io vcc-pc vcc-pd vcc-pg";
			regulator2      = "axp81x_dcdc2 none vdd-cpua";
			regulator3      = "axp81x_dcdc3 none";
			regulator4      = "axp81x_dcdc4 none";
			regulator5      = "axp81x_dcdc5 none vcc-dram";
			regulator6      = "axp81x_dcdc6 none vdd-sys";
			regulator7      = "axp81x_dcdc7 none";
			regulator8      = "axp81x_rtc none";
			regulator9      = "axp81x_aldo1 none afvcc-csi iovdd-csi vcc-pe";
			regulator10     = "axp81x_aldo2 none vcc-pl";
			regulator11     = "axp81x_aldo3 none vcc-avcc vcc-pll";
			regulator12     = "axp81x_dldo1 none vcc-hsic-33 vcc-hdmi-33 vcc-dsi-33 vcc-gmac-33";
			regulator13     = "axp81x_dldo2 none vcc-io vcc-gmac-25";
			regulator14     = "axp81x_dldo3 none avdd-csi";
			regulator15     = "axp81x_dldo4 none vcc-wifi";
			regulator16     = "axp81x_eldo1 none vdd-lpddr-18 vcc-cpvdd";
			regulator17     = "axp81x_eldo2 none";
			regulator18     = "axp81x_eldo3 none dvdd-csi-18";
			regulator19     = "axp81x_fldo1 none vcc-hsic-12";
			regulator20     = "axp81x_fldo2 none vdd-cpus";
			regulator21     = "axp81x_gpio0ldo none vcc-ctp";
			regulator22     = "axp81x_gpio1ldo none vcc-mt";
			regulator23     = "axp81x_dc1sw none vcc-lcd-0";
			status = "okay";
		};

		nand0:nand0@01c03000 {
			compatible = "allwinner,sun50i-nand";
			device_type = "nand0";
			reg = <0x0 0x01c03000 0x0 0x1000>; /* nand0 */
			interrupts = <GIC_SPI 70 0x04>;
			clocks = <&clk_pll_periph0>,<&clk_nand>;
			pinctrl-names = "default";
			pinctrl-0 = <&nand0_pins_a>, <&nand0_pins_b>;
			nand0_cache_level = <0x55aaaa55>;
			nand0_flush_cache_num = <0x55aaaa55>;
			nand0_capacity_level = <0x55aaaa55>;
			nand0_id_number_ctl = <0x55aaaa55>;
			nand0_print_level = <0x55aaaa55>;
			nand0_p0 = <0x55aaaa55>;
			nand0_p1 = <0x55aaaa55>;
			nand0_p2 = <0x55aaaa55>;
			nand0_p3 = <0x55aaaa55>;
			status = "okay";
		};
	};
};
